<!DOCTYPE html>
<html lang="en">
  <head>
    <link
      href="https://fonts.googleapis.com/css2?family=Anton&display=swap"
      rel="stylesheet"
    />
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Lagunitas IPA ‚Äì Unlimited Release</title>
    <style>
      * {
        box-sizing: border-box;
      }
      body {
        margin: 0;
        font-family: "Helvetica Neue", Arial, sans-serif;
        background: #f6f1e8;
        color: #111;
        padding-left: 64px;
      }

      header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 20px 32px;
      }

      .btnComprar {
        position: fixed;
        top: 20px;
        right: 32px;
        background: #b22222;
        color: #fff;
        border: none;
        padding: 23px 31px;
        font-weight: 700;
        cursor: pointer;
        z-index: 20;
        transition: transform 0.3s ease, border-radius 0.3s ease;
      }

      .btnComprar:hover {
        transform: scale(1.1);
        border-radius: 12px;
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
      }

      .logo img {
        padding-top: 20px;
        width: 100px;
      }

      .contenedor {
        display: grid;
        grid-template-columns: 1fr 1fr;
        min-height: calc(60vh - 80px);
        padding: 120px 32px 0;
        align-items: flex-start;
      }

      .contenedor.siguiente {
        min-height: 100vh;
        padding-top: 160px;
      }

      .textoPrincipal {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        text-align: center;
        transition: transform 0.6s ease;
      }

      .textoPrincipal h1 {
        position: relative;
        font-family: "Anton", sans-serif;
        font-size: 200px;
        line-height: 0.95;
        color: #c62828;
        margin: 0;
        text-transform: uppercase;
        font-weight: 900;
      }

      .textoPrincipal img {
        position: absolute;
        top: -100px;
        left: 120px;
        width: 200px;
        z-index: 2;
      }

      .textoPrincipal.subir {
        transform: translate(-50%, calc(-50% - 120px));
      }

      .imgCentral img {
        width: 280px;
        filter: drop-shadow(20px 10px 30px rgba(0, 0, 0, 0.25));
        transition: transform 0.6s ease;
      }

      .imgFija {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%) rotate(20deg);
        width: 320px;
        pointer-events: none;
        z-index: 5;
      }

      .rotImg img {
        transform: rotate(-10deg);
      }

      .barIzq {
        position: fixed;
        left: 0;
        width: 64px;
        height: 95vh;
        border-right: 3px SOlid #000000;
        display: flex;
        flex-direction: column;
        align-items: center;
        padding: 20px 0;
        top: 23px;
        background: #f6f1e8;
        z-index: 10;
      }

      .barIcon {
        font-size: 18px;
        cursor: pointer;
      }

      .detalles small {
        text-transform: uppercase;
        letter-spacing: 1px;
        color: var(--muted);
      }

      .detalles h2 {
        font-family: "Anton", sans-serif;
        font-size: 120px;
        line-height: 1;
        margin: 16px 0;
      }

      .detalles p {
        max-width: 420px;
        color: var(--muted);
        line-height: 1.6;
      }

      .detalles .cta {
        margin-top: 24px;
        padding: 20px 40px;
        background: #000;
        color: #fff;
        border: none;
        cursor: pointer;
        transition: transform 0.3s ease, border-radius 0.3s ease;
      }

      .detalles .cta:hover {
        transform: scale(1.1);
        border-radius: 12px;
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
      }

      .bottle {
        display: flex;
        justify-content: center;
      }

      .tarjeta {
        width: 450px;
        border: 3px solid black;
        margin-left: 350px;
        height: 600px;
        display: flex;
        flex-direction: column;
      }

      .stat {
        margin: 0 30px;
        border-bottom: 2px solid black;
        display: flex;
        align-items: center;
      }

      .stat h2 {
        font-family: "Anton", sans-serif;
        font-size: 60px;
        width: 320px;
      }

      .stat p {
        color: #666;
        font-size: 15px;
      }

      /* Contenedor de productos */
      .products-grid {
        display: flex;
        grid-auto-rows: minmax(150px, auto);
      }

      .product-item {
        background: #f9f9f9;
        padding: 10px;
        border-radius: 8px;
        text-align: center;
      }

      .product-item img {
        max-width: 100%;
        height: auto;
      }

      .product-caption {
        font-size: 0.7rem;
        margin-top: 15px;
        text-transform: uppercase;
        font-weight: bold;
      }
    </style>
  </head>
  <body>
    <aside class="barIzq">
      <div class="barIcon">‚ò∞</div>
      <br />
      <div class="barIcon">üîç</div>
    </aside>

    <header>
      <div class="logo">
        <img src="./recursos/Coca-Cola_logo.svg.png" />
      </div>
      <button class="btnComprar">PEDIR YA</button>
    </header>

    <main class="contenedor">
      <section class="textoPrincipal">
        <img src="./recursos/sello.png" />
        <h1>LANZAMIENTO<br />LIMITADO</h1>
      </section>

      <section class="imgCentral imgFija">
        <img src="./recursos/pngwing.com.png" alt="Lagunitas IPA Bottle" />
      </section>
    </main>

    <main class="contenedor siguiente">
      <section class="detalles">
        <small>Ediciones Ilimitadas</small>
        <h2>HISTORIA<br />COCA COLA</h2>
        <p>
          Coca-Cola es una marca global de bebidas reconocida por su sabor √∫nico
          y su identidad ic√≥nica. Acompa√±a momentos cotidianos y celebraciones
          en todo el mundo, transmitiendo frescura, felicidad y uni√≥n. Innova
          constantemente, se adapta a nuevas generaciones y promueve
          experiencias que conectan emocionalmente con personas de distintas
          culturas globales actuales.
        </p>
        <button class="cta">COMPRAR AHORA</button>
      </section>

      <aside class="tarjeta">
        <div class="stat">
          <h2>6.2%</h2>
          <p>
            El porcentaje de gas en Coca-Cola aporta burbujas refrescantes
            ligeras
          </p>
        </div>
        <div class="stat">
          <h2>51.1</h2>
          <p>
            M√°s de doscientas marcas est√°n asociadas a The Coca-Cola Company
          </p>
        </div>
        <div class="stat">
          <h2>1.059</h2>
          <p>
            Miles de empresas compran diariamente Coca-Cola para venta global
          </p>
        </div>
      </aside>
    </main>
    <!-- Nuevo main debajo -->
    <main class="contenedor siguiente">
      <section class="availability-section">
        <div class="availability-label">Availability:</div>
        <h1 class="main-title">YEAR ROUND</h1>

        <div class="products-grid">
          <div class="product-item">
            <img src="./recursos/luis.png" />
            <p class="product-caption">On tap</p>
          </div>
          <div class="product-item">
            <img src="recursos/fanta.png" />
            <p class="product-caption">22 oz bottles<br />6-pack</p>
          </div>
          <div class="product-item">
            <img src="recursos/inka.png" />
            <p class="product-caption">22 oz bottles<br />6-pack</p>
          </div>
          <div class="product-item">
            <img src="recursos/sprite.png" />
            <p class="product-caption">22 oz bottles<br />6-pack</p>
          </div>
        </div>
      </section>
    </main>

    <script>
      const mainPrimary = document.querySelector(".contenedor:not(.siguiente)");
      const siguienteMains = document.querySelectorAll(".contenedor.siguiente");
      const bottleImg = document.querySelector(".imgFija img");

      const firstsiguiente = siguienteMains[0];
      const penultimateMain = siguienteMains[siguienteMains.length - 2];
      const lastMain = siguienteMains[siguienteMains.length - 1];

      const textoPrincipal = document.querySelector(".textoPrincipal");

      function handleScroll() {
        const viewportHeight = window.innerHeight;

        /* =========================
       1Ô∏è‚É£ ROTACI√ìN (main 1 ‚Üí main 2)
    ========================== */
        const primaryRect = mainPrimary.getBoundingClientRect();
        const firstsiguienteRect = firstsiguiente.getBoundingClientRect();

        const rotationProgress = Math.min(
          Math.max(
            (viewportHeight - firstsiguienteRect.top) / viewportHeight,
            0
          ),
          1
        );

        const rotation = -20 * rotationProgress;

        /* =========================
       2Ô∏è‚É£ ESCALADO (pen√∫ltimo ‚Üí √∫ltimo)
    ========================== */
        const penultimateRect = penultimateMain.getBoundingClientRect();
        const lastRect = lastMain.getBoundingClientRect();

        const scaleProgress = Math.min(
          Math.max(
            (viewportHeight - penultimateRect.top) /
              (lastRect.top - penultimateRect.top + viewportHeight),
            0
          ),
          1
        );

        const scale = 1 - scaleProgress * 0.4; // 40% menos ‚Üí scale(0.6)

        /* =========================
       3Ô∏è‚É£ TRANSFORM FINAL
    ========================== */
        bottleImg.style.transform = `rotate(${rotation}deg) scale(${scale})`;

        /* =========================
   4Ô∏è‚É£ SUBIR TEXTO AL PASAR AL SIGUIENTE
========================== */
        if (
          firstsiguiente.getBoundingClientRect().top <=
          window.innerHeight * 0.6
        ) {
          textoPrincipal.classList.add("subir");
        } else {
          textoPrincipal.classList.remove("subir");
        }
      }

      window.addEventListener("scroll", handleScroll);
    </script>
  </body>
</html>
